# Beyond Agreement: An Analysis of Hate Speech Annotations by Open-Source Large Language Models
This repository contains the code and data for my final project in the Masterâ€™s in Computational Social Sciences. The project investigates the use of large language models (LLMs) as automatic annotators for hate speech detection. Rather than focusing on model accuracy or traditional evaluation metrics, the analysis centers on disagreement between models, treating it not as noise, but as a potentially meaningful signal. Label variation is explored as a proxy for ambiguity, complexity, or subjectivity in the input text, with the broader goal of understanding how LLMs can be effectively used in social science research workflows.

The hate speech dataset used in this project is from [`Vidgen et al. (2021)`](https://doi.org/10.18653/v1/2021.acl-long.132).

This project uses R (4.4.1) and the following packages:

 - tidyverse, broom, here, MASS, spacyr, reticulate, rmarkdown
 - Python packages via reticulate: transformers, torch, protobuf, spacy

The repository is structured in folders:

`scripts/` contains all the analysis files, numbered to indicate the correct order of execution:
 - **01_data-preprocessing.Rmd**	loads and prepares the original dataset
 - **02_annotation-function.R**	queries LLMs and saves predictions
 - **03_spacy.R**	uses spaCy to extract syntactic features
 - **04_load-annotations.Rmd**	combines annotations and prepares analysis data
 - **05_models.Rmd**	builds and analyzes models of inter-LLM disagreement and LLM-human disagreement

`data/` stores every dataset needed to run the scripts, including raw input, annotations, and processed outputs.

`plots/` holds the figures and visualizations generated by the modeling and analysis.

## How to run

1. Clone the repository.
2. Open the `masters-thesis.Rproj` file in RStudio.
3. Ensure required R and Python packages are installed.
4. Run the numbered scripts in the `scripts/` folder in order.

The repository is designed to reproduce all results and figures included in the research paper, which I provide [here](IreneGarcia_MastersThesis_2025.pdf).
